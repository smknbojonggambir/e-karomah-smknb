<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>E-RAMADHAN</title>
<style>
body{font-family:Arial;background:#f4f6f9;padding:20px}
.card{background:white;padding:20px;border-radius:10px;margin-bottom:15px}
button{background:green;color:white;padding:10px;border:none;border-radius:6px}
.hidden{display:none}
</style>
</head>
<body>

<h2>E-RAMADHAN</h2>

<div class="card">
<input type="date" id="tanggal"><br><br>
<input type="text" id="username" placeholder="Username"><br><br>
<input type="text" id="nama" placeholder="Nama"><br><br>
<input type="text" id="kelompok" placeholder="Kelompok"><br><br>
<input type="text" id="pembimbing" placeholder="Pembimbing"><br><br>
</div>

<div class="card">
<h3>Bangun Pagi & Sahur</h3>
<input type="time" id="sahur_waktu"><br><br>
<input type="file" id="sahur_foto"><br><br>
<input type="text" id="sahur_ket" placeholder="Keterangan">
</div>

<div class="card">
<h3>Shalat Subuh</h3>
<select id="subuh_status">
<option value="">Pilih</option>
<option>Ya</option>
<option>Tidak</option>
</select><br><br>
<input type="text" id="subuh_ket" placeholder="Keterangan">
</div>

<div class="card">
<h3>Olahraga</h3>
<input type="file" id="olahraga_foto"><br><br>
<input type="text" id="olahraga_ket" placeholder="Keterangan">
</div>

<div class="card">
<h3>Aktivitas Bersama Keluarga</h3>
<input type="file" id="keluarga_foto"><br><br>
<input type="text" id="keluarga_ket" placeholder="Keterangan">
</div>

<div class="card">
<h3>Shalat Dzuhur</h3>
<select id="dzuhur_status">
<option value="">Pilih</option>
<option>Ya</option>
<option>Tidak</option>
</select><br><br>
<input type="text" id="dzuhur_ket" placeholder="Keterangan">
</div>

<div class="card">
<h3>Pesantren Ekologi</h3>
<input type="file" id="pesantren_foto"><br><br>
<input type="text" id="pesantren_ket" placeholder="Keterangan">
</div>

<div class="card">
<h3>Shalat Ashar</h3>
<select id="ashar_status">
<option value="">Pilih</option>
<option>Ya</option>
<option>Tidak</option>
</select><br><br>
<input type="text" id="ashar_ket" placeholder="Keterangan">
</div>

<div class="card">
<h3>Aksi Ekologi & Sosial</h3>
<input type="file" id="aksi_foto"><br><br>
<input type="text" id="aksi_ket" placeholder="Keterangan">
</div>

<div class="card">
<h3>Buka Bersama</h3>
<input type="file" id="buka_foto">
</div>

<button onclick="kirim()">SIMPAN DATA</button>

<p id="status"></p>

<script>
const WEB_APP_URL = "PASTE_URL_WEB_APP_DISINI";

function kirim(){
document.getElementById("status").innerText="Mengirim data...";

navigator.geolocation.getCurrentPosition(function(pos){

let fd=new FormData();
fd.append("tanggal",tanggal.value);
fd.append("username",username.value);
fd.append("nama",nama.value);
fd.append("kelompok",kelompok.value);
fd.append("pembimbing",pembimbing.value);
fd.append("lat",pos.coords.latitude);
fd.append("long",pos.coords.longitude);

[
"sahur_waktu","sahur_ket",
"subuh_status","subuh_ket",
"olahraga_ket",
"keluarga_ket",
"dzuhur_status","dzuhur_ket",
"pesantren_ket",
"ashar_status","ashar_ket",
"aksi_ket"
].forEach(id=>{
if(document.getElementById(id))
fd.append(id,document.getElementById(id).value);
});

[
"sahur_foto",
"olahraga_foto",
"keluarga_foto",
"pesantren_foto",
"aksi_foto",
"buka_foto"
].forEach(id=>{
if(document.getElementById(id).files[0])
fd.append(id,document.getElementById(id).files[0]);
});

fetch(WEB_APP_URL,{
method:"POST",
body:fd
})
.then(res=>res.json())
.then(res=>{
if(res.status==="success"){
document.getElementById("status").innerText="Data berhasil dikirim âœ…";
}else{
document.getElementById("status").innerText="Error: "+res.message;
}
})
.catch(err=>{
document.getElementById("status").innerText="Gagal koneksi!";
});

});

}
</script>

</body>
</html>
